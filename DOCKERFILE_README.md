# AI-Generated Dockerfile

This Dockerfile was generated using DSPy Chain of Thought reasoning on 2025-08-22 14:26:17 UTC.

## Generation Strategy

- **Multi-stage build:**  
  - Stage 1: Use node:20-alpine to install frontend dependencies and build static assets.
  - Stage 2: Use python:3.11-slim as the runtime base. Install backend dependencies, copy built frontend assets, and set up the Flask server.
- **Security:**  
  - Create and use a non-root user in the final image.
  - Do not copy .env or api-keys.env; require them to be mounted at runtime.
  - Use .dockerignore to exclude node_modules, test files, and sensitive configs.
- **Performance:**  
  - Leverage layer caching by separating dependency installation and build steps.
  - Clean up caches in the same RUN layer.
  - Only copy necessary files between stages.
- **Compatibility:**  
  - Use python:3.11-slim for broad compatibility with data science libraries.
  - Avoid alpine for Python due to potential C library issues with pandas, matplotlib, etc.
- **Healthcheck:**  
  - Add a healthcheck to ensure the Flask server is running.
- **Documentation:**  
  - Use LABEL for metadata.
  - Document required environment variables in comments.

## Build Instructions

```bash
# Build the image
docker build -t data-formulator .

# Run the container
docker run -p 5000:5000 data-formulator
```

## Features

- Multi-stage build for optimal image size
- Security best practices (non-root user)
- Health checks for production readiness
- Caching-optimized layer structure
- Production environment configuration

Generated by: Prism AI Workflow Orchestrator
Tool: Dockerfile Generator (Pure LLM Chain of Thought)
