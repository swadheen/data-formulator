# AI-Generated Dockerfile

This Dockerfile was generated using DSPy Chain of Thought reasoning on 2025-08-22 14:15:44 UTC.

## Generation Strategy

**High-Level Strategy:**
1. **Multi-Stage Build:** 
   - Stage 1: Use a Node.js image to build the frontend with Yarn.
   - Stage 2: Use a Python 3.11-slim image to install backend dependencies and copy built frontend assets.
2. **Dependency Management:** 
   - Install only required system packages (e.g., build-essential, libpq-dev, unixodbc) for Python connectors.
   - Use pip with --no-cache-dir for Python dependencies.
   - Use Yarn for frontend build, but do not include Node.js in the final image.
3. **Security:** 
   - Create and use a non-root user in the final image.
   - Do not copy .env or api-keys.env; instruct users to mount them at runtime.
   - Use .dockerignore to exclude unnecessary files.
4. **Performance:** 
   - Leverage layer caching by separating dependency installation and build steps.
   - Clean up caches and remove build tools in the same layer.
5. **Healthcheck:** 
   - Add a Docker healthcheck for the Flask server.
6. **Documentation:** 
   - Add comments explaining key decisions.

## Build Instructions

```bash
# Build the image
docker build -t data-formulator .

# Run the container
docker run -p 5000:5000 data-formulator
```

## Features

- Multi-stage build for optimal image size
- Security best practices (non-root user)
- Health checks for production readiness
- Caching-optimized layer structure
- Production environment configuration

Generated by: Prism AI Workflow Orchestrator
Tool: Dockerfile Generator (Pure LLM Chain of Thought)
