# AI-Generated Dockerfile

This Dockerfile was generated using DSPy Chain of Thought reasoning on 2025-08-22 14:30:53 UTC.

## Generation Strategy

The Dockerfile will use a multi-stage build:
1. **Frontend Build Stage**: Use a Node.js image to install dependencies and build the React/Vite frontend. Only the necessary files (`package.json`, `yarn.lock`) are copied first for caching, then the rest for the build. The output is placed in `py-src/data_formulator/dist`.
2. **Backend/Runtime Stage**: Use a slim Python image (python:3.11-slim) for the final runtime. Python dependencies are installed using `requirements.txt` and `pyproject.toml`, with `pip install --no-cache-dir` for size reduction. The built frontend assets are copied from the previous stage into the correct location. A non-root user is created for security. Only the necessary port (5000) is exposed. The entrypoint runs the Flask app via the Python package. Healthcheck is added for the Flask server. All file paths and structure strictly follow the repository analysis.

## Build Instructions

```bash
# Build the image
docker build -t data-formulator .

# Run the container
docker run -p 5000:5000 data-formulator
```

## Features

- Multi-stage build for optimal image size
- Security best practices (non-root user)
- Health checks for production readiness
- Caching-optimized layer structure
- Production environment configuration

Generated by: Prism AI Workflow Orchestrator
Tool: Dockerfile Generator (Pure LLM Chain of Thought)
