# AI-Generated Dockerfile

This Dockerfile was generated using DSPy Chain of Thought reasoning on 2025-08-22 15:18:16 UTC.

## Generation Strategy

- Use a multi-stage build:
  1. **Frontend Build Stage:** Use official Node.js image, install dependencies from `package.json` and `yarn.lock` at the repository root, run `yarn build`, output to `py-src/data_formulator/dist`.
  2. **Backend Build Stage:** Use `python:3.11-slim` as base, copy backend code from `py-src/data_formulator/`, install Python dependencies from `requirements.txt` and/or `pyproject.toml`, copy built frontend assets from previous stage.
- Only copy necessary files for each stage to optimize layer caching.
- Clean up caches and build artifacts after installation.
- Create a non-root user for running the backend.
- Set `WORKDIR` to `py-src/data_formulator/` for backend execution.
- Use `ENTRYPOINT` to launch the backend via CLI (`data_formulator`).
- Expose port 5000.
- Add a healthcheck for the Flask API.
- Do not include secrets or sensitive environment variables; recommend using Docker secrets or bind-mounts.
- Use `.dockerignore` to exclude `node_modules`, build caches, and other unnecessary files.

## Build Instructions

```bash
# Build the image
docker build -t data-formulator .

# Run the container
docker run -p 5000:5000 data-formulator
```

## Features

- Multi-stage build for optimal image size
- Security best practices (non-root user)
- Health checks for production readiness
- Caching-optimized layer structure
- Production environment configuration

Generated by: Prism AI Workflow Orchestrator
Tool: Dockerfile Generator (Pure LLM Chain of Thought)
