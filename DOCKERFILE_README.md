# AI-Generated Dockerfile

This Dockerfile was generated using DSPy Chain of Thought reasoning on 2025-08-22 15:24:59 UTC.

## Generation Strategy

- Use multi-stage builds: Stage 1 (Node.js) for frontend build, Stage 2 (Python) for backend runtime.
- Use node:16-alpine for frontend build (small, fast, compatible with Vite/Yarn).
- Use python:3.11-slim for backend (security, size, compatibility).
- Copy only necessary files for each stage to maximize layer caching and minimize image size.
- In the final image, only include built frontend assets (py-src/data_formulator/dist) and backend code (py-src/data_formulator).
- Install Python dependencies with pip using --no-cache-dir and clean up caches.
- Run as a non-root user (e.g., 'appuser') for security.
- Use .dockerignore to exclude node_modules, test files, and other unnecessary artifacts.
- Use ARG/ENV for configurable port and environment variables.
- Add HEALTHCHECK for Flask API endpoint.
- Document required environment variables and secrets in Dockerfile comments.
- Do not copy .env or api-keys.env; recommend mounting them at runtime.
- Expose port 5000 (default).
- Set WORKDIR to /app for clarity.

## Build Instructions

```bash
# Build the image
docker build -t data-formulator .

# Run the container
docker run -p 5000:5000 data-formulator
```

## Features

- Multi-stage build for optimal image size
- Security best practices (non-root user)
- Health checks for production readiness
- Caching-optimized layer structure
- Production environment configuration

Generated by: Prism AI Workflow Orchestrator
Tool: Dockerfile Generator (Pure LLM Chain of Thought)
