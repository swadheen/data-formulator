# AI-Generated Dockerfile

This Dockerfile was generated using DSPy Chain of Thought reasoning on 2025-08-22 14:11:42 UTC.

## Generation Strategy

**High-Level Strategy:**
- **Multi-Stage Build:** First stage uses Node (with Yarn) to build the frontend, second stage uses Python slim for backend runtime.
- **Base Images:** Use `node:20.11.1-alpine` for frontend build (latest LTS, Alpine for size), and `python:3.11-slim` for backend (latest stable, slim for size and compatibility).
- **Layer Caching:** Copy dependency files separately to maximize cache hits.
- **Security:** Run as non-root user, remove build tools, use `.dockerignore`, and avoid copying unnecessary files.
- **Healthcheck:** Add a healthcheck for the Flask server.
- **Environment:** Use `ENV` for persistent variables, recommend secrets via bind-mount or Docker secrets.
- **BuildKit:** Use BuildKit syntax for advanced features if available.
- **Comments:** Inline comments explain key decisions.

**Architectural Decisions:**
- Only the built frontend is copied to the backend's static directory.
- Only runtime Python dependencies are installed.
- The image exposes port 5000 (Flask default).
- The entrypoint runs the backend via CLI (`data_formulator`).
- Sensitive files (API keys, .env) are not baked into the image; recommend bind-mount or secrets.

## Build Instructions

```bash
# Build the image
docker build -t data-formulator .

# Run the container
docker run -p 5000:5000 data-formulator
```

## Features

- Multi-stage build for optimal image size
- Security best practices (non-root user)
- Health checks for production readiness
- Caching-optimized layer structure
- Production environment configuration

Generated by: Prism AI Workflow Orchestrator
Tool: Dockerfile Generator (Pure LLM Chain of Thought)
